{"ast":null,"code":"import _defineProperty from \"/Users/trinhchin/Desktop/React/MongooseAPI/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/trinhchin/Desktop/React/MongooseAPI/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/trinhchin/Desktop/React/MongooseAPI/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/trinhchin/Desktop/React/MongooseAPI/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/trinhchin/Desktop/React/MongooseAPI/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/trinhchin/Desktop/React/MongooseAPI/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/trinhchin/Desktop/React/MongooseAPI/client/src/pages/Register.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport apiCaller from \"../utils/apiCaller\";\nimport { Layout, Form, Input, Icon, Button } from \"antd\";\nvar Content = Layout.Content;\nexport var Register =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Register, _Component);\n\n  function Register() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Register);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Register)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      email: \"chin@gmail.com\",\n      password: \"1\",\n      message: \"\"\n    };\n\n    _this.onChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n\n      _this.props.form.validateFields(function (err, values) {\n        if (!err) {\n          console.log(\"Received values of form: \", values);\n          var email = values.email,\n              password = values.password;\n          apiCaller(\"post\", \"users\", {\n            email: email,\n            password: password\n          }, null).then(function (res) {\n            _this.setState({\n              message: \"Registration was successful.\"\n            });\n          }).catch(function (err) {\n            var status = err.response.status;\n\n            if (status === 409) {\n              _this.setState({\n                message: \"Email is existed.\"\n              });\n            }\n          });\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Register, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var token = localStorage.getItem(\"token\");\n\n      if (token) {\n        this.props.history.push(\"/\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          email = _this$state.email,\n          password = _this$state.password,\n          message = _this$state.message;\n      var getFieldDecorator = this.props.form.getFieldDecorator;\n      var formItemLayout = {\n        // labelCol: {\n        //   xs: { span: 12, offset: 6 },\n        //   sm: { span: 8, offset: 6 }\n        // },\n        wrapperCol: {\n          md: {\n            span: 4,\n            offset: 10\n          }\n        }\n      };\n      return React.createElement(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Register\", React.createElement(Form, Object.assign({}, formItemLayout, {\n        onSubmit: this.onSubmit,\n        className: \"login-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), React.createElement(Form.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, getFieldDecorator(\"email\", {\n        rules: [{\n          required: true,\n          message: \"Please input your username!\"\n        }]\n      })(React.createElement(Input, {\n        prefix: React.createElement(Icon, {\n          type: \"user\",\n          style: {\n            color: \"rgba(0,0,0,.25)\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }),\n        placeholder: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }))), React.createElement(Form.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, getFieldDecorator(\"password\", {\n        rules: [{\n          required: true,\n          message: \"Please input your Password!\"\n        }]\n      })(React.createElement(Input, {\n        prefix: React.createElement(Icon, {\n          type: \"lock\",\n          style: {\n            color: \"rgba(0,0,0,.25)\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }),\n        type: \"password\",\n        placeholder: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }))), React.createElement(Form.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, getFieldDecorator(\"remember\", {\n        valuePropName: \"checked\",\n        initialValue: false\n      })(React.createElement(Checkbox, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Remember me\")), React.createElement(\"a\", {\n        className: \"login-form-forgot\",\n        href: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Forgot password\"), React.createElement(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        className: \"login-form-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Log in\"), \"Or \", React.createElement(Link, {\n        to: \"/register\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"register now!\")), React.createElement(Input, {\n        name: \"email\",\n        value: email,\n        onChange: this.onChange,\n        placeholder: \"email\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), React.createElement(Input, {\n        name: \"password\",\n        value: password,\n        onChange: this.onChange,\n        placeholder: \"password\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Login\"), React.createElement(Button, {\n        type: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Register\")), message));\n    }\n  }]);\n\n  return Register;\n}(Component);\nexport default Form.create({\n  name: \"normal_login\"\n})(Register);","map":{"version":3,"sources":["/Users/trinhchin/Desktop/React/MongooseAPI/client/src/pages/Register.js"],"names":["React","Component","Link","apiCaller","Layout","Form","Input","Icon","Button","Content","Register","state","email","password","message","onChange","e","setState","target","name","value","onSubmit","preventDefault","props","form","validateFields","err","values","console","log","then","res","catch","status","response","token","localStorage","getItem","history","push","getFieldDecorator","formItemLayout","wrapperCol","md","span","offset","rules","required","color","valuePropName","initialValue","create"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport apiCaller from \"../utils/apiCaller\";\nimport { Layout, Form, Input, Icon, Button } from \"antd\";\n\nconst { Content } = Layout;\nexport class Register extends Component {\n  state = {\n    email: \"chin@gmail.com\",\n    password: \"1\",\n    message: \"\"\n  };\n  onChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n  onSubmit = e => {\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n      if (!err) {\n        console.log(\"Received values of form: \", values);\n        const { email, password } = values;\n        apiCaller(\n          \"post\",\n          \"users\",\n          {\n            email: email,\n            password: password\n          },\n          null\n        )\n          .then(res => {\n            this.setState({\n              message: \"Registration was successful.\"\n            });\n          })\n          .catch(err => {\n            const { status } = err.response;\n            if (status === 409) {\n              this.setState({ message: \"Email is existed.\" });\n            }\n          });\n      }\n    });\n  };\n  componentWillMount() {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      this.props.history.push(\"/\");\n    }\n  }\n  render() {\n    const { email, password, message } = this.state;\n    const { getFieldDecorator } = this.props.form;\n    const formItemLayout = {\n      // labelCol: {\n      //   xs: { span: 12, offset: 6 },\n      //   sm: { span: 8, offset: 6 }\n      // },\n      wrapperCol: {\n        md: {\n          span: 4,\n          offset: 10\n        }\n      }\n    };\n    return (\n      <Layout>\n        <Content>\n          Register\n          <Form\n            {...formItemLayout}\n            onSubmit={this.onSubmit}\n            className=\"login-form\"\n          >\n            <Form.Item>\n              {getFieldDecorator(\"email\", {\n                rules: [\n                  { required: true, message: \"Please input your username!\" }\n                ]\n              })(\n                <Input\n                  prefix={\n                    <Icon type=\"user\" style={{ color: \"rgba(0,0,0,.25)\" }} />\n                  }\n                  placeholder=\"email\"\n                />\n              )}\n            </Form.Item>\n            <Form.Item>\n              {getFieldDecorator(\"password\", {\n                rules: [\n                  { required: true, message: \"Please input your Password!\" }\n                ]\n              })(\n                <Input\n                  prefix={\n                    <Icon type=\"lock\" style={{ color: \"rgba(0,0,0,.25)\" }} />\n                  }\n                  type=\"password\"\n                  placeholder=\"Password\"\n                />\n              )}\n            </Form.Item>\n            <Form.Item>\n              {getFieldDecorator(\"remember\", {\n                valuePropName: \"checked\",\n                initialValue: false\n              })(<Checkbox>Remember me</Checkbox>)}\n              <a className=\"login-form-forgot\" href=\"/\">\n                Forgot password\n              </a>\n              <Button\n                type=\"primary\"\n                htmlType=\"submit\"\n                className=\"login-form-button\"\n              >\n                Log in\n              </Button>\n              Or <Link to=\"/register\">register now!</Link>\n            </Form.Item>\n            <Input\n              name=\"email\"\n              value={email}\n              onChange={this.onChange}\n              placeholder=\"email\"\n              required\n            />\n            <br />\n            <Input\n              name=\"password\"\n              value={password}\n              onChange={this.onChange}\n              placeholder=\"password\"\n              required\n            />\n            <br />\n            <Link to=\"/login\">Login</Link>\n            <Button type=\"primary\">Register</Button>\n          </Form>\n          {message}\n        </Content>\n      </Layout>\n    );\n  }\n}\n\nexport default Form.create({ name: \"normal_login\" })(Register);\n"]},"metadata":{},"sourceType":"module"}